<!--
Just like the first balls challenge, refactor the following code to remove code duplication and to make adding additonal balls easy. This
time each ball has its own X and Y direction speed and bounces around
in the canvas. Once you have finished the refactoring, make 10
bouncing balls.
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Balls</title>
  </head>
  <body>
    <canvas id="canvas" width="500" height="500"></canvas>
    <script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');

    function Ball(x, y, radius, speedX, speedY, color) {
      this.x = x;
      this.y = y;
      this.radius = radius;
      this.speedX = speedX;
      this.speedY = speedY;
      this.color = color;
    }
    var balls = [
      new Ball(100, 100, 10, 5, -4, 'red'),
      new Ball(300, 400, 30, 3, 3, 'green'),
      new Ball(150, 160, 20, 6, -4, 'blue'),
      new Ball(120, 100, 10, 5, 3, 'purple'),
      new Ball(80, 200, 20, 4, -2, 'black'),
      new Ball(50, 300, 30, 3, -7, 'green'),
      new Ball(130, 400, 40, 6, -5, 'blue'),
      new Ball(200, 150, 50, 6, -4, 'purple'),
      new Ball(150, 300, 30, 4, -3, 'black'),
      new Ball(75, 200, 10, 3, -4, 'red'),
    ];

    function main() {

      drawRectangle();

      balls.forEach(function(ball) {
        ball.x += ball.speedX;
        ball.y += ball.speedY;

        if (ball.x - ball.radius <= 0) {
          ball.speedX = -ball.speedX;
        }
        if (ball.x + ball.radius >= 500) {
          ball.speedX = -ball.speedX;
        }
        if (ball.y - ball.radius <= 0) {
          ball.speedY = -ball.speedY;
        }
        if (ball.y + ball.radius >= 500) {
          ball.speedY = -ball.speedY;
        }
        ctx.beginPath();

        ctx.fillStyle = ball.color;
        ctx.ellipse(ball.x, ball.y, ball.radius, ball.radius, 0, 0, Math.PI * 2);
        ctx.fill();
      });
      requestAnimationFrame(main);
    }

    function drawRectangle() {
      ctx.fillStyle = 'yellow';
      ctx.fillRect(0, 0, 500, 500);
    }

    main();
    
    </script>
  </body>
</html>
