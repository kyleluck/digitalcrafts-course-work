<!--
Example of using a controller in a directive. A controller in a directive
is similar to the regular controller in that its scope interacts with
its template.
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Bootstrap</title>
    <link href="bootstrap.css" rel="stylesheet">
    <script src="angular.js"></script>
    <script>
    var app = angular.module('app', []);

    app.controller('btButtonController', function($scope) {
      $scope.classes = ['btn'];
      if ($scope.primary) {
        $scope.classes.push('btn-primary');
      } else {
        $scope.classes.push('btn-default');
      }
    });

    app.directive('btButton', function() {
      return {
        scope: {
          text: '=',
          primary: '='
        },
        // a controller in a directive
        // we are using controller code to setup a classes
        // variable which contains an array of classes to use
        // the contents of the array depends on the "primary" property.
        controller: 'btButtonController',
        template: '<button ng-class="{{classes}}">{{text}}</button>'
      }
    });
    </script>
  </head>
  <body ng-app="app">
    <bt-button primary="true" text="'Ok'"></bt-button>
    <bt-button text="'Cancel'"></bt-button>
  </body>
</html>
