<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Todo List - Angular Directive</title>
    <style>
      .container {
        width: 500px;
        margin: auto;
      }
      .container input, .container button {
        padding: 5px;
        font-size: 1.1em;
      }
      .container ul {
        list-style: none;
        font-size: 1.4em;
      }
      ul input {
        padding: 3px;
        background: white;
      }
      ul li {
        margin: 5px;
      }
    </style>
  </head>
  <body ng-app="myapp">

    <div class="container">
      <todo-list></todo-list>
    </div>

    <script src="angular.js"></script>
    <script>
      var app = angular.module('myapp', []);
      app.directive('todoList', function() {
        return {
          scope: {
            name: '='
          },
          controller: function($scope) {
            $scope.items = [];

            $scope.addItem = function() {
              var item = {"task": $scope.item};
              $scope.items.push(item);
              $scope.item = '';
              console.log('items: ', $scope.items);
            };

            $scope.deleteItem = function(item) {
              var indexOfItem = $scope.items.indexOf(item);
              $scope.items.splice(indexOfItem, 1);
              //console.log('item', item, ' is at ', indexOfItem);
            };

          },
          templateUrl: 'todolisthtml.html'
        };
      });
    </script>
  </body>
</html>
